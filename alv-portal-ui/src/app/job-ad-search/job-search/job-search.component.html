<div (scrolled)="onScroll()"
     [fromRoot]="true"
     [infiniteScrollThrottle]="50"
     [immediateCheck]="true"
     [infiniteScrollContainer]="'main'"
     class="container-fluid"
     infiniteScroll>

  <div class="row mt-md-4 mt-3">
    <div class="col-xs-12 col-md-4 col-xl-3">
      <div class="filter-panel position-sticky">
        <div class="alv-bar mb-1">
          <span *ngIf="resultsAreLoading$ | async; else resultsCount">...</span>
          <ng-template #resultsCount>
            <strong>{{totalCount$ | async }} Stellen</strong>
          </ng-template>
        </div>
        <alv-filter-panel (filtersChange)="onFiltersChange($event)"
                          [jobSearchFilter]="jobSearchFilter$ | async"></alv-filter-panel>
      </div>
    </div>
    <div class="col-xs-12 col-md-8 col-xl-9">
      <alv-job-search-result *ngFor="let jobSearchResult of jobSearchResults$ | async"
                             [jobSearchResult]="jobSearchResult"></alv-job-search-result>
    </div>

  </div>
</div>
