<div class="container-fluid query-search-area py-4">
  <div class="form-row">
    <alv-query-search-panel class="col-md-10 col-lg-9"
                            (queriesChange)="onQueryChange($event)"
                            [applyFilterReset]="applyFilterReset$ | async"
                            [showSpinner]="resultsAreLoading$ | async"
                            [jobSearchFilter]="jobSearchFilter$ | async">
    </alv-query-search-panel>

    <div class="col-md-2">
      <button class="btn btn-text h-100"
              (click)="onResetFilter()">
        {{ 'job-search.toolbar.reset' | translate }}
      </button>
    </div>


  </div>
</div>
<div (scrolled)="onScroll()"
     [fromRoot]="true"
     [infiniteScrollThrottle]="50"
     [immediateCheck]="true"
     [infiniteScrollContainer]="'main'"
     class="container-fluid"
     infiniteScroll>

  <alv-three-column-layout [mobileOrdering]="[1, 3, 2]">
    <ng-container class="left-column">
      <div class="alv-bar mb-1">
        <span *ngIf="resultsAreLoading$ | async; else resultsCount">...</span>
        <ng-template #resultsCount>
          <strong>{{totalCount$ | async }} {{'portal.job-ad-search.results-count.label' | translate}}</strong>
        </ng-template>

      </div>
      <alv-filter-panel (filtersChange)="onFiltersChange($event)"
                        [applyFilterReset]="applyFilterReset$ | async"
                        [jobSearchFilter]="jobSearchFilter$ | async">
      </alv-filter-panel>
    </ng-container>

    <ng-container class="main-column">
      <alv-job-search-result *ngFor="let jobSearchResult of jobSearchResults$ | async"
                             [jobSearchResult]="jobSearchResult"></alv-job-search-result>
    </ng-container>

    <ng-container class="right-column"
                  *ngIf="jobSearchMailToLink$ | async as jobSearchMailToLink">
      <a class="btn btn-text btn-text-icon btn-truncate"
         [href]="jobSearchMailToLink">
        <i aria-hidden="true"
           class="fa fa-share mr-1"></i>
        {{'job-detail.action.sendEmail' | translate}}
      </a>

    </ng-container>
  </alv-three-column-layout>
</div>
