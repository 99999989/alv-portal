<div (scrolled)="onScroll()"
     [fromRoot]="true"
     [infiniteScrollThrottle]="50"
     [immediateCheck]="true"
     [infiniteScrollContainer]="'main'"
     class="container-fluid"
     infiniteScroll>

  <div class="row mt-md-4 mt-3">
    <div class="col-xs-12 col-md-3 col-xl-2">
      <div class="filter-panel">
        <div class="alv-bar mb-1">
          <span *ngIf="resultsAreLoading$ | async; else resultsCount">...</span>
          <ng-template #resultsCount>
            <strong>{{totalCount$ | async }} Stellen</strong>
          </ng-template>
        </div>
        <alv-filter-panel (filtersChange)="onFiltersChange($event)"
                          [jobSearchFilter]="jobSearchFilter$ | async"></alv-filter-panel>
      </div>
    </div>
    <div class="col-xs-12 col-md-6 col-xl-8 order-3 order-md-2">
      <alv-job-search-result *ngFor="let jobSearchResult of jobSearchResults$ | async"
                             [jobSearchResult]="jobSearchResult"></alv-job-search-result>
    </div>

    <div class="col-xs-12 col-md-3 col-xl-2 order-2 order-md-3 mb-3 text-right text-md-left">
      <button class="btn btn-text btn-text-icon text-truncate send-search-button"
              (click)="sendSearchAsLink()">
        <i class="fas fa-share mr-1"></i>{{'candidate-search.filter.candidate-search-link' | translate}}
      </button>
    </div>

  </div>
</div>
