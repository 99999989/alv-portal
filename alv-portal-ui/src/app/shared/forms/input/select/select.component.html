<div class="form-group"
     *ngIf="control">
  <div class="form-label-group position-relative"
       [class.invalid]="control.touched && control.invalid"
       [class.readonly]="readonly">
    <span class="required-indicator"
          *ngIf="required && !readonly"></span>
    <!--<pre>{{options$|async|json}}</pre>-->
    <select class="form-control custom-select"
            *ngIf="!readonly"
            [attr.id]="id"
            [formControl]="control"
            [attr.required]="required"
            [attr.aria-required]="!!required"
            [attr.aria-describedby]="validationId"
            [alvAutofocus]="autofocus"
            [class.placeholder-shown]="control.value === ''">
      <option *ngFor="let option of options$ | async"
              [ngValue]="option.value">
        <ng-container *ngIf="!option.labelParameters">{{option.label | translate}}
        </ng-container>
        <ng-container *ngIf="option.labelParameters">{{option.label | translate: stringify(option.labelParameters) }}
        </ng-container>
      </option>
    </select>
    <div *ngIf="readonly"
         [class.placeholder-shown]="control.value === ''"
         class="readonly-input">
      <ng-container *ngFor="let option of options$ | async">
        <ng-container *ngIf="!option.labelParameters">{{option.label | translate}}
        </ng-container>
        <ng-container *ngIf="option.labelParameters">{{option.label | translate: stringify(option.labelParameters) }}
        </ng-container>
      </ng-container>
    </div>
    <label [attr.for]="id"
           class="text-truncate">{{label | translate}}</label>
    <i class="fas fa-caret-down dropdown-icon"
       *ngIf="!readonly"></i>
  </div>
  <small *ngIf="helpText && !(control.touched && control.invalid)"
         class="help-text" >
    {{helpText | translate}}
  </small>
  <alv-validation-messages *ngIf="!readonly"
                           [control]="control"
                           [attr.id]="validationId"
                           [customValidationMessages]="validationMessages">
  </alv-validation-messages>
</div>
