<alv-competence-items-collapse-panel label="portal.competence-catalog.ch-fiches.label.occupations"
                                     class="d-block mt-2"
                                     [id]="chFiche.id"
                                     [isCollapsed]="collapsed.OCCUPATIONS"
                                     [isEmpty]="!chFiche.occupations.length"
                                     [darkMode]="true"
                                     [showActionButtons]="true"
                                     [actions]="[linkOccupationAction]"
                                     (actionClick)="handleOccupationActionClick($event)">
  <alv-competence-item *ngFor="let occupationLabel of occupationLabels; let index = index"
                       type="CH-ISCO"
                       [multiLanguageTitle]="{
                         textDe: occupationLabel.default,
                         textFr: occupationLabel.default,
                         textIt: occupationLabel.default,
                         textEn: occupationLabel.default
                         }"
                       [superTitle]="occupationLabel.default"
                       [isItemClickable]="false"
                       [showActionButtons]="true"
                       [actions]="[unlinkAction]"
                       (actionClick)="unlinkOccupation(index)">
  </alv-competence-item>
</alv-competence-items-collapse-panel>

<alv-competence-items-collapse-panel *ngFor="let competenceType of competenceTypes"
                                     class="d-block mt-2"
                                     [id]="chFiche.id + competenceType"
                                     [label]="'portal.competence-catalog.ch-fiches.label.' + competenceType"
                                     [showActionButtons]="true"
                                     [isCollapsed]="collapsed[competenceType]"
                                     [isEmpty]="!getCompetencesByType(competenceType).length"
                                     [darkMode]="true"
                                     [actions]="[linkCompetenceAction]"
                                     (actionClick)="handleCompetenceSetActionClick($event, competenceType)"
                                     (toggleClick)="toggleCompetences(competenceType, $event)">
  <alv-competence-set *ngFor="let competenceSet of competences[competenceType]; let index = index"
                      [competenceSet]="competenceSet"
                      [actions]="[unlinkAction]"
                      [showActionButtons]="true"
                      (actionClick)="handleCompetenceSetActionClick($event, competenceType, competenceSet)">
  </alv-competence-set>
</alv-competence-items-collapse-panel>
