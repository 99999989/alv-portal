<div class="container pt-md-4 pt-3 px-3">
  <h2 class="panel-title">
    <fa-icon class="panel-icon"
             [icon]="['fas', 'address-card']"></fa-icon>
    {{ 'portal.dashboard.user-settings.user-info.title' | translate }}
    {{ currentUser?.displayName }}, {{ currentCompany?.companyName }}
  </h2>
  <div class="row">
    <div class="col-md-6">
      <alv-collapse-panel [panelId]="'eIAM-account'"
                          panelTitle="portal.dashboard.user-settings.panel.eiam-account">
        <div class="panel-content">
          <p>{{ 'Über Ihr eIAM Konto können Sie folgende Login-Daten bearbeiten:' }}</p>
          <ul class="alv-list">
            <alv-list-item-content *ngFor="let loginData of ['Vor- und Nachname', 'Passwort', 'Sicherheitsfragen',
          'E-Mail Adresse', 'Telefonnummer', 'Sprache']"
                                   [label]="loginData">
            </alv-list-item-content>
          </ul>
          <button type="button"
                  (click)="goToEIAMProfile()"
                  class="btn btn-secondary">
            <fa-icon class="link-icon"
                     [icon]="['fas', 'caret-right']"></fa-icon>
            {{ 'eIAM Konto öffnen' }}
          </button>
        </div>
      </alv-collapse-panel>
      <alv-collapse-panel [panelId]="'user-information'"
                          panelTitle="portal.dashboard.user-settings.panel.user-info">
        <div class="panel-content">
          <alv-alert (dismiss)="alert = null"
                     *ngIf="alert"
                     [notification]="alert">
          </alv-alert>
          <p>{{ 'Diese Daten dienen zum automatischen Abfüllen von Kontakt- und Formularfeldern und haben ' +
          'keinen Einfluss auf die Login-Daten Ihres eIAM Kontos.' }}</p>
          <form (validSubmit)="onSubmit()"
                [formGroup]="contactForm"
                alvFormSubmitValidation>
            <fieldset>
              <alv-select
                [options$]="salutationOptions$"
                alvFormControlName="salutation"
                label="contact-template-management.salutation">
              </alv-select>

              <alv-input-field alvFormControlName="firstName"
                               label="contact-template-management.firstName">
              </alv-input-field>

              <alv-input-field alvFormControlName="lastName"
                               label="contact-template-management.lastName">
              </alv-input-field>

              <alv-input-field alvFormControlName="phone"
                               label="contact-template-management.phone"
                               type="tel">
              </alv-input-field>

              <alv-input-field alvFormControlName="email"
                               label="contact-template-management.email">
              </alv-input-field>
            </fieldset>
            <div class="d-flex">
              <div class="flex-grow-1">
              </div>
              <button (click)="onResetContact()"
                      class="btn btn-text"
                      type="button">{{'entity.action.cancel' | translate }}
              </button>
              <button class="btn btn-primary ml-1"
                      type="submit">{{'entity.action.save' | translate }}
              </button>
            </div>
          </form>
        </div>
      </alv-collapse-panel>
      <alv-collapse-panel [panelId]="'company-information'"
                          panelTitle="portal.dashboard.user-settings.panel.company-info">
        <div class="panel-content">
          <alv-alert (dismiss)="alert = null"
                     *ngIf="alert"
                     [notification]="alert">
          </alv-alert>
          <p>{{ 'Diese Daten dienen zum automatischen Abfüllen von Kontakt- und Formularfeldern und haben ' +
          'keinen Einfluss auf die Login-Daten Ihres eIAM Kontos.' }}</p>
          <form (validSubmit)="onSubmit()"
                [formGroup]="companyForm"
                alvFormSubmitValidation>

            <fieldset>
              <alv-input-field alvFormControlName="companyName"
                               label="contact-template-management.companyName">
              </alv-input-field>

              <div class="form-row">
                <div class="col-md-9">
                  <alv-input-field alvFormControlName="companyStreet"
                                   label="contact-template-management.companyStreet">
                  </alv-input-field>
                </div>
                <div class="col-md-3">
                  <alv-input-field alvFormControlName="companyHouseNr"
                                   label="contact-template-management.companyHouseNr">
                  </alv-input-field>
                </div>
              </div>

              <div class="form-row">
                <div class="col-md-9">
                  <alv-input-field alvFormControlName="companyZipCode"
                                   label="contact-template-management.companyZipCode">
                  </alv-input-field>
                </div>
                <div class="col-md-3">
                  <alv-input-field alvFormControlName="companyCity"
                                   label="contact-template-management.companyCity">
                  </alv-input-field>
                </div>
              </div>
            </fieldset>
            <div class="d-flex">
              <div class="flex-grow-1">
              </div>
              <button (click)="onResetCompany()"
                      class="btn btn-text"
                      type="button">{{'entity.action.cancel' | translate }}
              </button>
              <button class="btn btn-primary ml-1"
                      type="submit">{{'entity.action.save' | translate }}
              </button>
            </div>
          </form>
        </div>
      </alv-collapse-panel>
    </div>
  </div>
</div>
