<div class="container pt-md-4 pt-3 px-3">
  <h2 class="panel-title">
    <fa-icon class="panel-icon"
             [icon]="['fas', 'address-card']"></fa-icon>
    {{ 'portal.dashboard.user-settings.main.title' | translate }}
    {{ titleName }}
  </h2>

  <alv-alert (dismiss)="alert = null"
             *ngIf="alert"
             [notification]="alert">
  </alv-alert>

  <div class="row">
    <div class="col-md-6">

      <alv-collapse-panel [panelId]="'eIAM-account'"
                          panelTitle="portal.dashboard.user-settings.eiam-account.title">
        <div class="d-block pb-4">
          <p>{{ 'portal.dashboard.user-settings.eiam-account.description' | translate }}</p>
          <ul class="alv-list">
            <alv-list-item-content *ngFor="let loginData of EIAM_ACCOUNT_LIST">
              {{ loginData | translate }}
            </alv-list-item-content>
          </ul>
          <button type="button"
                  (click)="goToEIAMProfile()"
                  class="btn btn-secondary">
            <fa-icon class="link-icon"
                     [icon]="['fas', 'caret-right']"></fa-icon>
            {{ 'portal.dashboard.user-settings.eiam-account.button' | translate }}
          </button>
        </div>
      </alv-collapse-panel>

      <form (validSubmit)="onSubmit()"
            [formGroup]="form"
            alvFormSubmitValidation>

        <alv-collapse-panel [panelId]="'user-information'"
                            panelTitle="portal.dashboard.user-settings.user-info.title"
                            *ngIf="companyOrPav">
          <alv-user-information
                       [parentForm]="form"
                       [contactFormValue]="initialContactValue">
          </alv-user-information>
          <div class="d-flex">
            <div class="flex-grow-1">
            </div>
            <button (click)="onResetContact()"
                    class="btn btn-text"
                    type="button">{{'entity.action.cancel' | translate }}
            </button>
            <button class="btn btn-primary ml-1"
                    type="submit">{{'entity.action.save' | translate }}
            </button>
          </div>

        </alv-collapse-panel>

        <alv-collapse-panel [panelId]="'company-information'"
                            panelTitle="portal.dashboard.user-settings.company-info.title"
                            *ngIf="companyOrPav">
          <alv-company-information
                       [parentForm]="form"
                       [companyFormValue]="initialCompanyValue">
          </alv-company-information>
          <div class="d-flex">
            <div class="flex-grow-1">
            </div>
            <button (click)="onResetCompany()"
                    class="btn btn-text"
                    type="button">{{'entity.action.cancel' | translate }}
            </button>
            <button class="btn btn-primary ml-1"
                    type="submit">{{'entity.action.save' | translate }}
            </button>
          </div>

        </alv-collapse-panel>

      </form>

    </div>
  </div>
</div>
